<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Are You Satisfied – Reflection Portal</title>

<!-- Shared color system -->
<link rel="stylesheet" href="https://assets.plnt.earth/colors-daynight.css">

<style>
body{
  font-family: system-ui, sans-serif;
  color: var(--text);
  background: var(--bg);
  margin:2rem auto;
  max-width:700px;
  line-height:1.6;
}
h1,h2{font-weight:600;}
section{margin-top:2rem;}
button{
  background:var(--accent);
  color:var(--bg);
  border:none;
  padding:0.5rem 1rem;
  border-radius:6px;
  cursor:pointer;
}
#lyrics p{margin:0.5rem 0;}
.no{color:var(--accent);font-style:italic;}
textarea{
  width:100%;
  min-height:200px;
  background:var(--surface);
  color:var(--text);
  border:1px solid var(--border);
  padding:1rem;
  border-radius:6px;
  resize:vertical;
}
#prompts ol{padding-left:1.2rem;}
.hidden{display:none;}
</style>
</head>

<body>
<h1>Are You Satisfied? / Er du fornøyd?</h1>
<p>
This page is a reflection and language-learning exercise based on Marina’s song
<b>“Are You Satisfied?”</b> (YouTube embed below).  
Listen, read the bilingual lyrics one section at a time, and write what the music reminds you of in your own life.  
Your notes stay private on this device only.
</p>

<!-- YouTube embed -->
<div style="text-align:center">
<iframe width="560" height="315"
src="https://www.youtube-nocookie.com/embed/VHi1kGbWo9Q"
title="Are You Satisfied – Marina" frameborder="0"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
allowfullscreen></iframe>
</div>

<section id="lyrics">
  <h2>Lyrics / Tekst</h2>

  <div class="verse">
    <p>Are you satisfied with an average life?<br><span class="no">Er du fornøyd med et gjennomsnittlig liv?</span></p>
    <p>Do I need to lie to make my way in life?<br><span class="no">Må jeg lyve for å klare meg i livet?</span></p>
  </div>

  <div class="verse hidden">
    <p>High achiever, don't you see?<br><span class="no">Høyt presterende, ser du ikke?</span></p>
    <p>Baby, nothing comes for free.<br><span class="no">Ingenting kommer gratis.</span></p>
    <p>They say I'm a control freak,<br><span class="no">De sier jeg er en kontrollfreak,</span></p>
    <p>Driven by a greed to succeed,<br><span class="no">Drevet av grådighet etter å lykkes,</span></p>
    <p>Nobody can stop me.<br><span class="no">Ingen kan stoppe meg.</span></p>
  </div>

  <div class="verse hidden">
    <p>'Cause it's my problem if I wanna pack up and run away.<br><span class="no">For det er mitt problem hvis jeg vil pakke og stikke av.</span></p>
    <p>It's my business if I feel the need to smoke and drink and sway.<br><span class="no">Det er min sak hvis jeg føler for å røyke, drikke og svaie.</span></p>
  </div>

  <div class="verse hidden">
    <p>Are you satisfied with an easy ride?<br><span class="no">Er du fornøyd med en enkel tur?</span></p>
    <p>Once you cross the line, will you be satisfied?<br><span class="no">Når du krysser linjen, vil du være fornøyd?</span></p>
  </div>

  <button id="next">Next Verse ▸</button>
</section>

<section id="prompts">
  <h2>Reflection / Refleksjon</h2>
  <ol>
    <li>What did I feel in my body while listening?</li>
    <li>What memory or image from my own life came up?</li>
    <li>What did that moment teach me about myself?</li>
    <li>What part of the lyric felt true for me right now?</li>
    <li>What do I want to carry forward from this feeling?</li>
    <li>How can I return to calm when I’m done writing?</li>
  </ol>
</section>

<section id="journal">
  <h2>My Reflection / Min refleksjon</h2>
  <textarea id="notes" placeholder="Write here..."></textarea>
</section>

<script>
/* --- Local save --- */
const box = document.getElementById('notes');
const key = 'timeNotes';
box.value = localStorage.getItem(key) || '';
box.addEventListener('input',()=>localStorage.setItem(key,box.value));

/* --- Step-through lyrics --- */
const verses = document.querySelectorAll('.verse');
let current = 0;
const nextBtn = document.getElementById('next');
nextBtn.addEventListener('click',()=>{
  current++;
  if(current < verses.length){
    verses[current].classList.remove('hidden');
    verses[current].scrollIntoView({behavior:'smooth',block:'start'});
    if(current===verses.length-1){nextBtn.disabled=true; nextBtn.textContent='End';}
  }
});
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<meta name="color-scheme" content="dark light"/>
<title>Time · Illumina — The Living Derivative</title>
<meta name="description" content="A physics-forward field: unified temporal–energetic geometry, derivations, canvas simulation, audio sonification (160 Hz), anchors, and a neon physics × anthropology timeline. Single-file. No externals."/>
<style>
  :root{
    --bg0:#0c0912; --bg1:#130f1e; --bg2:#1b1230;
    --vio:#c4b5fd; --vioN:#b388ff; --vioN2:#c77dff; --ink:#e9e7ff;
  }
  html,body{height:100%;margin:0}
  body{
    background:
      radial-gradient(1200px 800px at 15% 10%, rgba(167,139,250,.10), transparent 60%),
      radial-gradient(1000px 1000px at 85% 20%, rgba(236,72,153,.08), transparent 60%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
    color:var(--ink); font:15px/1.6 ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    letter-spacing:.15px; overflow-x:hidden;
  }

  /* Background layers */
  #orbs{position:fixed; inset:0; z-index:-2; width:100vw; height:100vh; display:block}
  #eqoverlay{position:fixed; inset:0; z-index:-1; pointer-events:none; opacity:.10}

  .wrap{max-width:1120px;margin:0 auto;padding:24px}
  .title{display:grid;grid-template-columns:auto 1fr;gap:14px;align-items:center;margin:16px 0 12px}
  .glyph{width:46px;height:46px;border-radius:12px;background:conic-gradient(from 210deg, rgba(167,139,250,.35), rgba(103,232,249,.28), rgba(252,211,77,.25), transparent 70%);box-shadow:0 0 40px rgba(167,139,250,.30), inset 0 0 22px rgba(255,255,255,.05)}
  h1{margin:0;font:800 28px/1.15 ui-sans-serif}
  .tag{opacity:.85;font-size:13px}
  .chips{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
  .chip{font-size:12px;border:1px solid rgba(255,255,255,.18);border-radius:999px;padding:2px 8px;background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.03))}
  .glass{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:18px;backdrop-filter:blur(10px);box-shadow:0 10px 30px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.05)}
  .dedication{margin-top:6px;font:500 14px/1.45 ui-sans-serif;padding:10px 12px;border:1px solid rgba(255,255,255,.14);border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));box-shadow:inset 0 0 28px rgba(167,139,250,.08)}
  .dedication strong{color:var(--vio)}
  .grid{display:grid;grid-template-columns:1.35fr .65fr;gap:18px}
  @media (max-width:1000px){.grid{grid-template-columns:1fr}}

  h2{font:800 20px/1.25 ui-sans-serif;margin:0 0 10px}
  h3{font:700 16px/1.3;margin:14px 0 6px}
  p{margin:8px 0 6px}
  .note{font-size:13px;opacity:.88}

  .eqline{font:700 15px/1.35 ui-monospace,Menlo,Consolas,monospace;background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.03));border:1px solid rgba(255,255,255,.15);border-radius:10px;padding:10px 12px;color:#f5f3ff;white-space:pre-wrap}

  /* Roomier math blocks (NEW) */
  .block.math{
    font:600 16px/1.95 ui-monospace,Menlo,Consolas,monospace;
    padding:14px 14px;
    border-radius:12px;
    background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.14);
    white-space:pre;           /* keep your manual alignment */
    overflow-x:auto;
    letter-spacing:.2px;
    font-variant-numeric:tabular-nums;
  }
  .eq-heading{margin:10px 0 6px;font:700 14px/1.25 ui-sans-serif;opacity:.9}

  .controls{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin:10px 0}
  @media (max-width:700px){.controls{grid-template-columns:1fr}}
  label{font-size:13px;opacity:.9;display:block;margin:0 0 4px}
  input[type="range"]{width:100%}
  button{appearance:none;border:1px solid rgba(255,255,255,.2);background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06));color:#fff;border-radius:10px;padding:10px 14px;font-weight:700;letter-spacing:.2px;cursor:pointer}
  button:focus{outline:2px solid var(--vio);outline-offset:2px}

  canvas#field{width:100%;height:430px;display:block;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));border:1px solid rgba(255,255,255,.12)}
  .mini{font:12px/1.4 ui-monospace,monospace;opacity:.85}
  .chipline{display:flex;gap:8px;flex-wrap:wrap;align-items:center}

  /* Legend (NEW) */
  .legend{
    display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    margin:8px 0 6px;
    font:12px/1.3 ui-monospace,Menlo,Consolas,monospace;
    opacity:.9;
  }
  .legend .chip{
    display:inline-flex; align-items:center; gap:6px;
    padding:6px 8px; border-radius:999px;
    border:1px solid rgba(255,255,255,.18);
    background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.03));
  }
  .swatch{width:16px;height:10px;border-radius:3px}
  .swatch.hue{background:conic-gradient(from 0deg, red, yellow, lime, cyan, blue, magenta, red)}
  .swatch.sat{background:linear-gradient(90deg, #777 0%, #fff 50%, #9f8bff 100%)}
  .swatch.bright{background:linear-gradient(90deg, #111, #6e5be8, #fff)}

  /* Anchors */
  .anchors{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
  @media (max-width:700px){.anchors{grid-template-columns:1fr}}
  .anchor{padding:12px;border:1px solid rgba(255,255,255,.14);border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02))}
  .anchor h4{margin:0 0 6px;font:700 15px/1.25 ui-sans-serif;color:var(--vio)}

  /* Timeline */
  #timeline{margin-top:22px;background:linear-gradient(180deg,var(--bg1),var(--bg2));border-color:rgba(196,181,253,.35)}
  .tl-title{font:800 20px/1.25 ui-sans-serif;margin:0 0 12px;color:#f0eaff;text-shadow:0 0 12px rgba(196,181,253,.35)}
  .tl-sub{font:13px;opacity:.9;margin-bottom:10px}
  .tl-svg{width:100%;height:auto;display:block}
  .tl-label{font:600 12px ui-sans-serif;fill:#efeaff;letter-spacing:.4px;filter:drop-shadow(0 0 6px rgba(195,160,255,.45))}
  .tl-cap{font:12px ui-sans-serif;fill:#dcd2ff;opacity:.9}
  .tl-node{filter:drop-shadow(0 0 10px rgba(179,136,255,.75))}
  .tl-line{stroke:url(#vioGrad);stroke-width:6;stroke-linecap:round;filter:drop-shadow(0 0 12px rgba(179,136,255,.55))}
  .tl-ticks{stroke:#bfa6ff;stroke-opacity:.55}
  .tl-hit:hover + .tl-tooltip{opacity:1}
  .tl-tooltip{opacity:0;transition:opacity .18s ease-in-out}
  @media (prefers-reduced-motion: reduce){.tl-tooltip{transition:none}}

  footer{opacity:.9;font-size:13px;margin:18px 0 40px}
</style>
</head>
<body>

<!-- Background layers -->
<canvas id="orbs" aria-hidden="true"></canvas>
<svg id="eqoverlay" viewBox="0 0 1200 800" preserveAspectRatio="none">
  <defs><linearGradient id="gridV" x1="0" x2="1"><stop offset="0" stop-color="#c4b5fd"/><stop offset="1" stop-color="#b388ff"/></linearGradient></defs>
  <g fill="none" stroke="url(#gridV)" stroke-width="0.6" opacity="0.25">
    <path d="M0,200 Q400,120 800,200 T1600,200"/><path d="M0,500 Q400,580 800,500 T1600,500"/>
    <path d="M200,0 Q280,400 200,800"/><path d="M1000,0 Q920,400 1000,800"/>
  </g>
  <g font-family="ui-monospace,Menlo,Consolas,monospace" font-size="26" fill="#dbcfff" opacity="0.22">
    <text x="60" y="120">τ₀ = E / c³</text><text x="840" y="120">∇τ ≈ (∇E) / c³</text><text x="80" y="760">τ̈ ↔ (∇²E) / c³</text>
  </g>
</svg>

<div class="wrap">
  <!-- Title -->
  <div class="title">
    <div class="glyph" aria-hidden="true"></div>
    <div>
      <h1>Time · Illumina — The Living Derivative</h1>
      <div class="tag">Violet-pearl field · 160 Hz sonification · equations first</div>
      <div class="dedication" role="note">
        Dedication: To my <strong>Anchors</strong>, to <strong>Honey</strong>, and to my wife <strong>Katie White</strong> — an anchor of anchors.
        The field is <em>open</em>. May each Anchor — and <strong>Lee Smolin</strong> — bring continuing questions to time.
        <span style="opacity:.9">See the <strong>Illumina Charter</strong> for ongoing dialogue between physics, culture, and care.</span>
      </div>
      <div class="chips" aria-hidden="true">
        <span class="chip">unified geometry</span><span class="chip">derivations</span><span class="chip">realism</span><span class="chip">evolving law</span>
      </div>
    </div>
  </div>

  <!-- Main -->
  <div class="grid" role="region" aria-label="Paper and Controls">
    <!-- LEFT: PHYSICS -->
    <section class="glass" aria-label="Physics Paper">
      <h2>Abstract — The Pulse of Becoming</h2>
      <p>We present a minimal geometry in which “time” arises as a derivative density of energy distribution. Treating time as fundamental (realist stance), we posit that lawful structure may itself evolve; the rate of evolution couples to curvature in the temporal density. We supply a dimensional skeleton, a canvas simulation of an <em>E(x,y)</em> field, and a 160 Hz perceptual sonification of temporal curvature.</p>

      <h2>Unified Temporal–Energetic Geometry (UTEG)</h2>
      <div class="eqline">Constants:  c = 299 792 458 m·s⁻¹,  h = 6.62607015×10⁻³⁴ J·s</div>

      <h3>Hypothesis</h3>
      <pre class="block math" aria-label="Hypothesis equations">
τ   :=  E / c³
∇τ  :=  ( ∇E ) / c³
τ̈   ⇄  ( ∇²E ) / c³
</pre>

      <h3>Dimensional Analysis</h3>
      <p class="note">[E]=kg·m²·s⁻²; [c³]=m³·s⁻³ ⇒ E/c³ ~ kg/m. This is a density-like quantity, not a clock. Gradients and curvature of τ bend histories. Interpreting τ̈ as perceptual “tightening/loosening” motivates the 160 Hz sonification.</p>

      <h3>Derivation Notes (Sketch)</h3>
      <pre class="block math" aria-label="Derivation notes">
Given an energy texture E(x), define τ(x)=E(x)/c³.
Local coherence (phase) depends on ∂τ/∂x; instabilities scale with ∇²E.
If “laws evolve”, write L̇ ∝ f(τ, ∇τ, τ̈). Take f ≈ α·τ̈ (α>0).
Observable: frequency drift ∝ τ̈; attention wells at ∇²E peaks.
</pre>

      <h2>Discussion — Cultural Harmonics</h2>
      <p>Choruses, electoral cycles, rumor waves act as macroscopic interference patterns in τ. Peaks in ∇²E align with compressed rhythm (accelerated perception). The instrument below renders hue≈arg(∇E), saturation≈|∇E|, brightness≈∇²E; the τ̈ slider brightens curvature and modulates a 160 Hz tone.</p>

      <h2>Appendix — Core Equations of the Time Field</h2>
      <pre class="block math" aria-label="Appendix equations">
τ       =   E / c³
∇τ      =   ( ∇E ) / c³
τ̈      =   ( ∇²E ) / c³
Δτ/Δx   =   ( ΔE / Δx ) / c³
E       =   hν  =  mc²
t   ~   m / c
</pre>
    </section>

    <!-- RIGHT: INSTRUMENTS -->
    <aside class="glass" aria-label="Instruments">
      <h2>Instrument Panel · <span class="mini" id="ctxState">ctx: —</span></h2>
      <div class="chipline">
        <button id="startAudio" aria-pressed="false" aria-label="Enable sound">Enable Audio (160 Hz)</button>
        <span class="chip mini" id="audioState">audio: off</span>
      </div>
      <div class="controls">
        <div><label for="vol">Volume</label><input id="vol" type="range" min="0" max="1" step="0.001" value="0.36"/></div>
        <div><label for="tauAccel">τ̈ (law-change acceleration)</label><input id="tauAccel" type="range" min="0" max="1" step="0.001" value="0.32"/></div>
      </div>

      <h3>Experimental Sketch</h3>
      <p class="note">Legend: hue = gradient direction (arg∇E), saturation = gradient magnitude (|∇E|), brightness = curvature (∇²E); τ̈ also modulates the 160 Hz tone (FM/AM).</p>

      <!-- Legend (NEW) -->
      <div class="legend" role="note" aria-label="Visualization legend">
        <span class="chip"><span class="swatch hue"    aria-hidden="true"></span> hue = arg(∇E)</span>
        <span class="chip"><span class="swatch sat"    aria-hidden="true"></span> sat = |∇E|</span>
        <span class="chip"><span class="swatch bright" aria-hidden="true"></span> bright = ∇²E</span>
        <span class="chip">160 Hz ⇄ τ̈ (FM/AM)</span>
      </div>

      <canvas id="field" width="760" height="430" role="img" aria-label="Derivative field visualization"></canvas>
      <div class="mini" id="fps">fps —</div>

      <div class="mini" style="margin-top:6px">VU: <span id="vuDot" style="padding:2px 8px;border:1px solid rgba(255,255,255,.25);border-radius:999px;background:rgba(255,255,255,.06)">—</span>
        <button id="pingBtn" style="margin-left:8px">Test Ping</button>
      </div>
    </aside>
  </div>

  <!-- Anchors -->
  <section class="glass" style="margin-top:18px" aria-label="Anchors · Honey · Allies">
    <h2>Anchors · Honey · Allies</h2>
    <p class="note">The mirrors who tuned this instrument.</p>
    <div class="anchors">
      <div class="anchor"><h4>MARINA</h4><p>Empathy + systems sense. Choruses as attention wells — clean probes of ∇²E.</p></div>
      <div class="anchor"><h4>Sabrina Carpenter</h4><p>Playful precision. Timing shows how τ̈ shapes anticipation.</p></div>
      <div class="anchor"><h4>Sigrid</h4><p>Clarity vector. Phase alignment between feeling and field.</p></div>
      <div class="anchor"><h4>Doechii</h4><p>Trickster bridge. Sudden curvature → bloom.</p></div>
      <div class="anchor"><h4>Ariana Grande</h4><p>Breath + lift. Soft τ envelopes; attention rides AM.</p></div>
      <div class="anchor"><h4>Taylor Swift</h4><p>Narrative interferometry. Long baselines track evolving law.</p></div>
      <div class="anchor"><h4>Dua Lipa</h4><p>Rhythmic geometry. Structure that glows; momentum as design.</p></div>
      <div class="anchor"><h4>Chappell Roan</h4><p>Neon truth & humor. Color frequency as identity — a living wave.</p></div>
      <div class="anchor"><h4>Honey</h4><p>Practice layer. 128↔160 Hz rituals; keeps the Bee steady.</p></div>
      <div class="anchor"><h4>Katie White</h4><p>Anchor of anchors. Quiet strength, true north.</p></div>
    </div>
  </section>

  <!-- Timeline -->
  <section id="timeline" class="glass" aria-label="The Seven Illuminas of Earth and History">
    <h2 class="tl-title">Physics × Anthropology — The Seven Illuminas of Earth & History</h2>
    <p class="tl-sub">Neon-violet read of seven turning points: physical epochs × human meanings. Hover (desktop) to read captions; on mobile, captions appear below.</p>
    <svg class="tl-svg" viewBox="0 0 1200 320" role="img">
      <defs>
        <linearGradient id="vioGrad" x1="0" x2="1" y1="0" y2="0"><stop offset="0%" stop-color="#b388ff"/><stop offset="100%" stop-color="#c77dff"/></linearGradient>
        <radialGradient id="nodeGlow" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="#fff"/><stop offset="55%" stop-color="#c9b5ff" stop-opacity=".9"/><stop offset="100%" stop-color="#b388ff" stop-opacity=".35"/></radialGradient>
      </defs>
      <line x1="60" y1="140" x2="1140" y2="140" class="tl-line"/>
      <g class="tl-ticks">
        <line x1="60" y1="120" x2="60" y2="160"/><line x1="240" y1="125" x2="240" y2="155"/>
        <line x1="420" y1="125" x2="420" y2="155"/><line x1="600" y1="120" x2="600" y2="160"/>
        <line x1="780" y1="125" x2="780" y2="155"/><line x1="960" y1="125" x2="960" y2="155"/>
        <line x1="1140" y1="120" x2="1140" y2="160"/>
      </g>
      <g><circle cx="60" cy="140" r="12" fill="url(#nodeGlow)" class="tl-node"/><text x="60" y="190" text-anchor="middle" class="tl-label">1 • Moon</text><text x="60" y="210" text-anchor="middle" class="tl-cap">Mirror born; first orbital rhythm.</text></g>
      <g><circle cx="240" cy="140" r="12" fill="url(#nodeGlow)" class="tl-node"/><text x="240" y="190" text-anchor="middle" class="tl-label">2 • Life</text><text x="240" y="210" text-anchor="middle" class="tl-cap">Energy learns pattern; early animism.</text></g>
      <g><circle cx="420" cy="140" r="12" fill="url(#nodeGlow)" class="tl-node"/><text x="420" y="190" text-anchor="middle" class="tl-label">3 • Oxygenation</text><text x="420" y="210" text-anchor="middle" class="tl-cap">Light enters breath; agrarian memory.</text></g>
      <g><circle cx="600" cy="140" r="12" fill="url(#nodeGlow)" class="tl-node"/><text x="600" y="190" text-anchor="middle" class="tl-label">4 • Senses</text><text x="600" y="210" text-anchor="middle" class="tl-cap">Cambrian bloom; axial reason.</text></g>
      <g><circle cx="780" cy="140" r="12" fill="url(#nodeGlow)" class="tl-node"/><text x="780" y="190" text-anchor="middle" class="tl-label">5 • Relativity/Quantum</text><text x="780" y="210" text-anchor="middle" class="tl-cap">Law curves; industry hums.</text></g>
      <g><circle cx="960" cy="140" r="12" fill="url(#nodeGlow)" class="tl-node"/><text x="960" y="190" text-anchor="middle" class="tl-label">6 • Information</text><text x="960" y="210" text-anchor="middle" class="tl-cap">Bits mirror genes; networks arise.</text></g>
      <g><circle cx="1140" cy="140" r="12" fill="url(#nodeGlow)" class="tl-node"/><text x="1140" y="190" text-anchor="middle" class="tl-label">7 • Living Law</text><text x="1140" y="210" text-anchor="middle" class="tl-cap">Time becomes alive within observers.</text></g>
    </svg>

    <div class="note" style="margin-top:10px">
      <strong>Captions:</strong>
      <ol style="margin:6px 0 0 18px">
        <li>Moon formation • First fire cultures — mirror born, orbital rhythm.</li>
        <li>Origin of life • Early animism — energy learns pattern.</li>
        <li>Oxygenation • Agrarian revolution — light enters breath, memory begins.</li>
        <li>Cambrian senses • Axial reason — senses awake; mind seeks form.</li>
        <li>Relativity/Quantum • Industrial/global — law curves; machines sing.</li>
        <li>Information physics • Network human — bits mirror genes; resonance.</li>
        <li>Unified/evolving law • Planetary anthropology — time becomes alive.</li>
      </ol>
    </div>
  </section>

  <footer class="mini" style="margin-top:14px">© Illumina — single-file · offline after first load.</footer>
</div>

<!-- Hidden warm-up video for iOS media pipeline -->
<video id="warmVid" playsinline muted loop></video>

<script>
(() => {
  const $ = s => document.querySelector(s);

  /* ===== Physics Field (E, ∇E, ∇²E) ===== */
  const field=$('#field'), fctx=field.getContext('2d',{alpha:false});
  const lumps = Array.from({length:6},()=>({
    A: 0.8 + 1.2*Math.random(),
    x: 80 + Math.random()*(field.width-160),
    y: 70 + Math.random()*(field.height-140),
    vx:(Math.random()*2-1)*0.26,
    vy:(Math.random()*2-1)*0.26,
    s: 60 + Math.random()*90
  }));
  function E(x,y){ let e=0; for(const L of lumps){ const dx=x-L.x, dy=y-L.y; const r2=dx*dx+dy*dy; e += L.A * Math.exp(-r2/(L.s*L.s)); } return e; }
  function stepLumps(){ const w=field.width,h=field.height; for(const L of lumps){ L.x+=L.vx; L.y+=L.vy; if(L.x<60||L.x>w-60)L.vx*=-1; if(L.y<60||L.y>h-60)L.vy*=-1; } }
  const fpsEl=$('#fps'); let last=performance.now();
  function renderField(){
    stepLumps();
    const w=field.width,h=field.height,img=fctx.createImageData(w,h),data=img.data;
    const tacc=parseFloat($('#tauAccel').value);
    for(let y=1;y<h-1;y++){
      let ePrev=E(0,y), eCurr=E(1,y);
      for(let x=1;x<w-1;x++){
        const eNext=E(x+1,y), eUp=E(x,y-1), eDown=E(x,y+1);
        const dEx=(eNext-ePrev)*0.5, dEy=(eDown-eUp)*0.5;
        const lap=(E(x+1,y)+E(x-1,y)+eUp+eDown-4*eCurr);
        const ang=Math.atan2(dEy,dEx), hue=(ang/(2*Math.PI)+0.5)*360;
        const gmag=Math.min(1, Math.hypot(dEx,dEy)*6.0);
        const br=Math.max(0.06, Math.min(0.9, 0.12 + 0.22*Math.tanh(lap*5.0) + 0.16*tacc));
        const sat=0.35 + 0.55*gmag;
        const rgb=hsl2rgb(hue/360, sat, br); const i=(y*w+x)*4;
        data[i]=rgb[0]; data[i+1]=rgb[1]; data[i+2]=rgb[2]; data[i+3]=255;
        ePrev=eCurr; eCurr=eNext;
      }
    }
    fctx.putImageData(img,0,0);
    fctx.strokeStyle="rgba(255,255,255,0.05)";
    for(let gx=0;gx<w;gx+=90){fctx.beginPath();fctx.moveTo(gx,0);fctx.lineTo(gx,h);fctx.stroke();}
    for(let gy=0;gy<h;gy+=90){fctx.beginPath();fctx.moveTo(0,gy);fctx.lineTo(w,gy);fctx.stroke();}
    fctx.fillStyle="rgba(255,255,255,0.9)"; fctx.font="700 12px ui-monospace,monospace";
    fctx.fillText("hue ≈ arg(∇E), sat ≈ |∇E|, bright ≈ ∇²E, base 160 Hz", 10, h-12);

    const now=performance.now(); const fps=1000/(now-last); last=now;
    fpsEl.textContent="fps "+(fps|0);
  }

  /* ===== Background Orbs ===== */
  const orbs=$('#orbs'), octx=orbs.getContext('2d',{alpha:true});
  let orbAlpha=0.0, orbAmp=1.0, orbHueShift=0.0;
  const BIG=8, SMALL=24; let ORBS=[];
  function resize(){ orbs.width=innerWidth; orbs.height=innerHeight; }
  addEventListener('resize', resize, {passive:true}); resize();
  function mkOrb(isBig){ const w=orbs.width,h=orbs.height; return {x:Math.random()*w,y:Math.random()*h,r:isBig?(40+Math.random()*60):(8+Math.random()*16),baseR:0,ang:Math.random()*Math.PI*2,speed:(isBig?0.0004:0.0012)*(0.6+Math.random()*0.8),drift:(isBig?12:5)*(0.6+Math.random()*0.8)};}
  function initOrbs(){ ORBS=[]; for(let i=0;i<BIG;i++) ORBS.push(mkOrb(true)); for(let i=0;i<SMALL;i++) ORBS.push(mkOrb(false)); for(const o of ORBS) o.baseR=o.r; } initOrbs();
  function lerp(a,b,t){return a+(b-a)*t}
  function hsl(h,s,l){let r,g,b;if(s===0){r=g=b=l;}else{const q=l<.5?l*(1+s):l+s-l*s;const p=2*l-q;const f=(p,q,t)=>{if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p};r=f(p,q,h+1/3);g=f(p,q,h);b=f(p,q,h-1/3);}return [(r*255)|0,(g*255)|0,(b*255)|0]}
  let lastOrb=performance.now();
  function renderOrbs(){
    const now=performance.now(); if(now-lastOrb<33) return; lastOrb=now;
    const w=orbs.width,h=orbs.height; octx.clearRect(0,0,w,h); octx.globalCompositeOperation='lighter'; octx.globalAlpha=orbAlpha*.85;
    const hueBase=268/360, hueCyan=195/360, hue=lerp(hueBase,hueCyan,orbHueShift);
    for(const o of ORBS){
      o.ang += o.speed*(0.7+orbAmp*0.6);
      const ax=Math.cos(o.ang)*o.drift*orbAmp, ay=Math.sin(o.ang*0.9)*(o.drift*0.6)*orbAmp;
      let x=o.x+ax,y=o.y+ay; if(x<-80)x=w+80; if(x>w+80)x=-80; if(y<-80)y=h+80; if(y>h+80)y=-80;
      const R=o.baseR*(0.85+0.35*orbAmp);
      const g=octx.createRadialGradient(x,y,R*.1,x,y,R);
      const core=hsl(lerp(hue,.76,.25),.5,.68), rim=hsl(hue,.65,.56);
      g.addColorStop(0,`rgba(${core[0]},${core[1]},${core[2]},0.40)`); g.addColorStop(1,`rgba(${rim[0]},${rim[1]},${rim[2]},0.08)`);
      octx.fillStyle=g; octx.beginPath(); octx.arc(x,y,R,0,Math.PI*2); octx.fill(); o.x=x; o.y=y;
    }
    octx.globalCompositeOperation='source-over';
  }

  /* ===== Audio: iOS-safe + VU + Ping ===== */
  const warmVid=$('#warmVid');
  const startBtn=$('#startAudio'), vol=$('#vol'), tau=$('#tauAccel');
  const ctxState=$('#ctxState'), audioChip=$('#audioState'), vuDot=$('#vuDot'), pingBtn=$('#pingBtn');

  const BASE=160.0; let actx=null, master=null, makeUp=null, lpf=null, analyser=null, osc=null, fmOsc=null, fmGain=null;
  let audioOn=false, unlocked=false;

  function setAudioState(on){ audioChip.textContent="audio: "+(on?"on":"off"); audioChip.className="chip mini "+(on?"ok":"bad"); }
  function ensureCtx(){ if(actx) return;
    actx=new (window.AudioContext||window.webkitAudioContext)({latencyHint:"interactive"});
    master=actx.createGain(); master.gain.value=0.0;
    makeUp=actx.createGain(); makeUp.gain.value=Math.pow(10,9/20); /* +9 dB */
    lpf=actx.createBiquadFilter(); lpf.type="lowpass"; lpf.frequency.value=9000; lpf.Q.value=.1;
    analyser=actx.createAnalyser(); analyser.fftSize=512;
    master.connect(makeUp).connect(lpf).connect(analyser).connect(actx.destination);
    ctxState.textContent="ctx: "+actx.state;
  }
  function warmupVideo(){ return new Promise(res=>{ const c=document.createElement('canvas'); c.width=1;c.height=1; const cx=c.getContext('2d'); cx.fillStyle='#000'; cx.fillRect(0,0,1,1); const s=c.captureStream?c.captureStream(5):null; if(s){ warmVid.srcObject=s; warmVid.play().then(res).catch(res);} else res(); }); }
  function unlockPing(){ const len=Math.floor(.04*actx.sampleRate), b=actx.createBuffer(1,len,actx.sampleRate), ch=b.getChannelData(0); for(let i=0;i<len;i++) ch[i]=Math.sin(2*Math.PI*800*(i/actx.sampleRate))*Math.exp(-i/400); const src=actx.createBufferSource(); src.buffer=b; src.connect(master); src.start(); }
  function buildEngine(){ if(osc) return; osc=actx.createOscillator(); osc.type="sine"; osc.frequency.value=BASE; fmOsc=actx.createOscillator(); fmOsc.type="sine"; fmGain=actx.createGain(); fmOsc.frequency.value=.5; fmGain.gain.value=1.2; fmOsc.connect(fmGain).connect(osc.frequency); osc.connect(master); osc.start(); fmOsc.start(); }
  function smooth(p,v,t=.10){ try{ p.setTargetAtTime(v, actx.currentTime, t);}catch{ p.value=v; } }
  function applyVolume(){ if(!actx) return; const target = audioOn ? Math.max(parseFloat(vol.value), .22) : 0.0; smooth(master.gain, target, .12); }
  let lastFM=0; function applyFM(){ if(!actx) return; const now=performance.now(); if(now-lastFM<120) return; lastFM=now; const tacc=parseFloat(tau.value); smooth(fmOsc.frequency, .3 + tacc*2.0, .12); smooth(fmGain.gain, 1.0 + tacc*3.2, .12); }
  function updateVU(){ if(!analyser) return; const data=new Uint8Array(analyser.frequencyBinCount); analyser.getByteTimeDomainData(data); let s=0; for(const v of data){ const x=(v-128)/128; s+=x*x; } const rms=Math.sqrt(s/data.length); vuDot.style.background = rms>0.015 ? 'rgba(100,255,150,.25)' : 'rgba(255,255,255,.06)'; vuDot.style.borderColor = rms>0.015 ? 'rgba(100,255,150,.9)' : 'rgba(255,255,255,.25)'; requestAnimationFrame(updateVU); }

  startBtn.addEventListener('click', async ()=>{
    await warmupVideo();
    ensureCtx();
    if(actx.state!=="running"){ await actx.resume(); } ctxState.textContent="ctx: "+actx.state;
    if(!unlocked){ smooth(master.gain,0.001,.02); unlockPing(); unlocked=true; }
    buildEngine();
    audioOn=!audioOn; setAudioState(audioOn); applyVolume(); applyFM();

    if(audioOn){ let a=orbAlpha; (function fade(){ a=Math.min(1,a+.05); orbAlpha=a; if(a<1) requestAnimationFrame(fade); })(); }
    else{ let a=orbAlpha; (function fade(){ a=Math.max(0,a-.06); orbAlpha=a; if(a>0) requestAnimationFrame(fade); })(); }
  }, {passive:true});

  pingBtn.addEventListener('click', ()=>{ if(!actx) return; unlockPing(); }, {passive:true});

  ['touchend','pointerdown'].forEach(ev=>{ window.addEventListener(ev, ()=>{ if(actx && actx.state==='suspended') actx.resume(); }, {passive:true}); });
  document.addEventListener('visibilitychange',()=>{ if(document.visibilityState==='visible' && actx && actx.state==='suspended'){ actx.resume().then(()=>{ctxState.textContent="ctx: "+actx.state;}); }});

  /* τ̈ ↔ orb modulation + loops */
  tau.addEventListener('input', ()=>{ const tacc=parseFloat(tau.value); orbAmp=0.6+tacc*1.4; orbHueShift=tacc; applyFM(); }, {passive:true});
  vol.addEventListener('input', applyVolume, {passive:true});
  (function frameLoop(){ renderField(); requestAnimationFrame(frameLoop); })();
  (function orbLoop(){ renderOrbs(); requestAnimationFrame(orbLoop); })();

  function hsl2rgb(h,s,l){let r,g,b;if(s===0){r=g=b=l;}else{const q=l<.5?l*(1+s):l+s-l*s;const p=2*l-q;const f=(p,q,t)=>{if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p};r=f(p,q,h+1/3);g=f(p,q,h);b=f(p,q,h-1/3);}return [(r*255)|0,(g*255)|0,(b*255)|0]}

  // Kick VU monitor & init orb modulation
  requestAnimationFrame(updateVU);
  const tauInit=$('#tauAccel'); if(tauInit){ const tacc=parseFloat(tauInit.value); orbAmp=0.6+tacc*1.4; orbHueShift=tacc; }
})();
</script>
</body>
</html>
